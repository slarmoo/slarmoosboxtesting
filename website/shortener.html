<!DOCTYPE html>
<html lang="en">

<head>
    <link rel='shortcut icon' type='image/x-icon' href='./favicon_tool.ico' />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Slarmoo's Shortener</title>
    <meta name="application-name" content="Slarmoo's Shortener" />
    <meta name="apple-mobile-web-app-title" content="Slarmoo's Shortener">
    <meta name="description" content="An alternative URL shortener solution" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="keywords"
        content="link, shortener, song, slarmoosbox, ultrabox, beepbox, jummbox, pandorasbox, modbox, sandbox, goldbox, wackybox, todbox, slarmoo, slarmoos" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="theme-color" content="#247d1d" />
    <meta name="msapplication-TileColor" content="#247d1d" />
    <meta name="msapplication-config" content="/browserconfig.xml" />
    <meta name="format-detection" content="telephone=no" />
    <style type="text/css">
        html {
            background: var(--page-margin, black);
            overflow-x: hidden;
            font-size: large;
            font-family: 'B612', sans-serif;
            line-height: 1.3;
            color: var(--primary-text, white);
        }

        body {
            margin: auto;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            align-content: center;
        }

        h1 {
            font-size: 1.7rem;
            text-align: center;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            -webkit-text-stroke-width: 0;
        }

        h2 {
            font-size: 1.5rem;
            text-align: center;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            -webkit-text-stroke-width: 0;
        }

        h3 {
            font-size: 1.2rem;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            -webkit-text-stroke-width: 0;
        }

        a {
            color: var(--link-accent, #3abbb2);
        }

        a:hover {
            color: var(--link-accent, #71eee5);
        }

        p {
            color: var(--secondary-text, rgb(193, 193, 193));
            margin-top: -1em;
        }

        a.link {
            color: var(--secondary-text, rgb(193, 193, 193));
            margin-left: 2em
        }

        a.link:hover {
            color: var(--secondary-text, rgb(233, 233, 233));
        }

        @media (min-width: 1100px) {
            body {
                width: 1100px;
                align-items: start;
                align-content: start;
            }
            h2 {
                border-left: white solid 4px;
                padding-left: 8px;
            }
        }
    </style>
</head>

<body>
    <h1><font color="#247d1d">Slarmoo's Shortener</font></h1>
    <p>
        This page creates an html file that automatically redirects you to your song.
        You can upload this file to filegarden or github for the best results
    </p>
    <label>Song link</label><input id="link" />
    <label>Song title (optional)</label><input id="title" />
    <button onclick="download()">Download</button>
    <script>
        const linkElement = document.getElementById("link");
        const titleElement = document.getElementById("title");
        const s = "script";
        const b = "body"

        function download() {
            const a = document.createElement("a");
            const title = titleElement.value || "untitled";

            const blob = new Blob([
                `
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <title>${title}</title>
                </head>
                <${b}>
                    <${s}>
                        window.location.href = "${linkElement.value}";
                    </${s}>
                </${b}>
                `
            ], { type: "text/plain" });
            const url = URL.createObjectURL(blob);
            a.href = url;
            a.download = `${title}.html`;
            a.click()
            a.remove();
        }
    </script>
</body>